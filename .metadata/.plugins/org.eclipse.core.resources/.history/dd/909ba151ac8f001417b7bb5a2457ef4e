package basics;

import java.util.Scanner;
import static basics.MilkShelf.print;

public class PetFights {
	public static void main(String args[]) {
		String petNames[] = { "Muddie", "Yellow Point", "Greyie", "Gangblin",
				"Anantou", "Ahuitou" };
		int petBaseAttacks[] = { 20, 25, 40, 35, 100, 59 };
		int petBaseLifes[] = { 50, 75, 100, 80, 1000, 599 };
		String weaponNames[] = { "fork", "knife", "spoon", "chopsticks",
				"toilet paper with dabian" };
		int weaponAttacks[] = { 7, 10, 5, 6, 15 };
		String armorNames[] = { "plate", "bowl", "chopping board", "placemat" };
		int armorLifes[] = { 20, 20, 30, 15 };
		while (true) {
			String petName1 = getUserInputPetName1();
			String petName2 = getUserInputPetName2();
			String weaponName1 = getUserInputWeaponName1();
			String weaponName2 = getUserInputWeaponName2();
			String armorName1 = getUserInputArmorName1();
			String armorName2 = getUserInputArmorName2();
			int petIndex1 = findIndex(petName1, petNames);
			int petBaseLife1 = petBaseLifes[petIndex1];
			int petBaseLife2 = petBaseLifes[findIndex(petName2, petNames)];
			int armorLife1 = armorLifes[findIndex(armorName1, armorNames)];
			int armorLife2 = armorLifes[findIndex(armorName2, armorNames)];
			int petLife1 = petBaseLife1 + armorLife1;
			int petLife2 = petBaseLife2 + armorLife2;
			int petBaseAttack1 = petBaseAttacks[petIndex1];
			int petBaseAttack2 = petBaseAttacks[findIndex(petName2, petNames)];
			int weaponAttack1 = weaponAttacks[findIndex(weaponName1,
					weaponNames)];
			int weaponAttack2 = weaponAttacks[findIndex(weaponName2,
					weaponNames)];
			int petAttack1 = petBaseAttack1 + weaponAttack1;
			int petAttack2 = petBaseAttack2 + weaponAttack2;
			while (petLife1 > 0 && petLife2 > 0) {
				petLife1 = petLife1 - petAttack2;
				petLife2 = petLife2 - petAttack1;
				print(petName1 + " loses " + petAttack2 + " life; " + petLife1
						+ " life left.");
				print(petName2 + " loses " + petAttack1 + " life; " + petLife2
						+ " life left.");
			}
			if (petLife1 <= 0 && petLife2 <= 0) {
				print("It's a draw between " + petName1 + " and " + petName2
						+ ".");
			} else if (petLife1 <= 0 && petLife2 >= 0) {
				print("Victory belongs to " + petName2);
			} else {
				print("Victory belongs to " + petName1);
			}
			String userInputDecision = getUserInputDecision();
			if (userInputDecision.equals("yes")) {
				continue;
			} else {
				break;
			}
		}
	}

	static String getUserInput(String hint) {
		Scanner reader = new Scanner(System.in);
		System.out.println(hint);
		String input = reader.nextLine();
		return input;
	}

	static String getUserInputPetName1() {
		return getUserInput("Enter petfighter1 name:");
	}

	static String getUserInputPetName2() {
		return getUserInput("Enter petfighter2 name:");
	}

	static String getUserInputWeaponName1() {
		return getUserInput("Enter weapon name of petfighter1:");
	}

	static String getUserInputWeaponName2() {
		return getUserInput("Enter weapon name of petfighter2:");
	}

	static String getUserInputArmorName1() {
		return getUserInput("Enter armor name of petfighter1:");
	}

	static String getUserInputArmorName2() {
		return getUserInput("Enter armor name of petfighter2:");
	}

	static String getUserInputDecision() {
		return getUserInput("Do you want to play again? Enter yes to continue.");
	}

	static int findIndex(String value, String values[]) {
		for (int i = 0; i < values.length; i++) {
			if (value.equals(values[i])) {
				return i;
			}
		}
		return -1;
	}

	static int selectIndexFromList(String values[]) {
		for (int i = 0; i < values.length; i++) {
			print((i + 1) + ". " + values[i]);
		}
		while (true) {
			print("Choose number:");
			Scanner reader = new Scanner(System.in);
			int choice = reader.nextInt();
			if (choice < 1 || choice > values.length) {
				print("Invalid choice! Choose again:");
				continue;
			} else {
				return choice - 1;
			}
		}
	}
}